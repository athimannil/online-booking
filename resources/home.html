<div class="container">
  <div class="row">
    <div class="col-sm-10 col-sm-offset-1 box">
      <div class="row">
      	<div class="col-sm-12 bg-primary">
              <button
                class="btn btn-primary pull-left"
                mwl-date-modifier
                date="viewDate"
                decrement="calendarView"
                ng-show="isPastMonth(calendarDate)"
                >
                <span class="glyphicon glyphicon-arrow-left"></span>
              </button>
              <button
                class="btn btn-primary pull-right"
                mwl-date-modifier
                date="viewDate"
                increment="calendarView">
                <span class="glyphicon glyphicon-arrow-right"></span>
              </button>
      		<h4 class="text-center">{{calendarTitle}}</h4>
      	</div>

      	<mwl-calendar
    		view="calendarView"
    		view-date="viewDate"
      		events="events"
      		view-title="calendarTitle"
            on-view-change-click="false"
            cell-auto-open-disabled="true"
            custom-template-urls="{calendarMonthCell: 'customMonthCell.html'}"
      		on-timespan-click = "dateClicked(calendarCell)"
		>
      	</mwl-calendar>
      </div>
    </div>
  </div>
</div>

<script id="customMonthCell.html" type="text/ng-template">
    <div class="cal-month-day custom-cell"
        ng-class="{
            'custom-cell-disabled': day.isPast || day.events[0].remaining_appointments == 0,
            'hidden-xs' : day.inMonth == false
            }"
        >
        <h3
            class="custom-cell-day"
            data-cal-date
            ng-click="vm.calendarCtrl.dateClicked(day.date)"
            >{{day.label}}<small class="visible-xs-inline-block">{{ day.date.format('dddd') }}</small>
        </h3>
        <div class="day-info" ng-if="!day.isPast">
            <div ng-if="day.events[0].is_holiday == 0 && day.events[0].remaining_appointments != 0">
                <h6 class="bg-success custom-cell-info">Remaining {{day.events[0].remaining_appointments}}</strong></h6>
            </div>
            <div ng-if="day.events[0].is_holiday == 0 && day.events[0].remaining_appointments == 0">
                <h6 class="bg-warning custom-cell-info">No booking</h6>
            </div>
            <div ng-if="day.events[0].is_holiday == 1">
                <h6 class="bg-info custom-cell-info">Holiday</h6>
            </div>
        </div>
    </div>
</script>
